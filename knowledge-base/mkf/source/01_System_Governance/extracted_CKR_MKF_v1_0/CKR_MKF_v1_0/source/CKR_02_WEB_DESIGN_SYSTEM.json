{
  "designSystem": {
    "version": "1.2_Tripled",
    "architectureMandates": {
      "framework": "Vite + React + TypeScript. Rationale: Optimal choice for solo developer, offering maximum development speed and type safety.",
      "stylingEngine": "Tailwind CSS is exclusive. Custom CSS is strictly prohibited. The roofing theme in tailwind.config.ts is the single source of truth for colors.",
      "componentLibrary": "shadcn/ui is the designated source for all UI primitives. This ensures consistency, accessibility, and reduces custom code overhead.",
      "runtimeAndPackageManager": "Bun. Rationale: Its all-in-one nature simplifies the toolchain, and its speed is a critical advantage for a solo workflow.",
      "routing": "React Router (react-router-dom). Rationale: Industry standard for robust, declarative client-side routing."
    },
    "colorPalette": {
      "Source": "CKR Brand Theme (KF_01, Rule 7)",
      "The_60_30_10_Rule": "Design must aim for 60% neutral (Off-White, White), 30% secondary (Dark Slate, Grey), and 10% primary accent (Action Blue).",
      "Primary_Action": {
        "tailwindVariable": "bg-roofing-blue",
        "intendedUse": "Exclusively for primary CTAs (e.g., 'Get Quote'), active links, and focus indicators.",
        "hexFallback": "#007ACC"
      },
      "Headline_Authority": {
        "tailwindVariable": "bg-roofing-navy",
        "intendedUse": "Primary headlines (H1) and footer/header backgrounds, expressing authority and stability.",
        "hexFallback": "#0B3B69"
      },
      "Body_Text_Standard": {
        "tailwindVariable": "bg-roofing-charcoal",
        "intendedUse": "Standard body text and secondary headlines (H2/H3). Must maintain WCAG AA contrast for readability.",
        "hexFallback": "#111827"
      },
      "Secondary_Neutral": {
        "tailwindVariable": "bg-roofing-grey",
        "intendedUse": "Secondary body text, subtle borders, and separators.",
        "hexFallback": "#6B7280"
      },
      "Prohibition": "Orange is strictly forbidden."
    },
    "componentDesignMandates": {
      "Visual_Hierarchy": "Must use a full typographic scale (H1, H2, H3, Body, Caption) consistently.",
      "Hero_Section": {
        "contentMandate": "Headline must match ad/service keyword (hyper-relevance). Must use a stunning 'After' photograph (Transformation Pillar).",
        "ctaPlacement": "Primary CTA button must be placed high-visibility and use the **Primary_Action** color.",
        "trustSignals": "Must embed the ABN and Phone Number in the header or as part of the hero section for immediate trust signaling."
      },
      "Proof_Sections": {
        "contentMandate": "Utilize interactive before-and-after image sliders/galleries. Images must be high-quality and of *our own* work (stock is forbidden).",
        "testimonialIntegration": "Testimonial content (from CKR_04) must be linked to the relevant suburb to enhance local expertise and trust."
      },
      "Process_Map_Design": {
        "mandate": "Visual flow/diagram (3-5 steps) to explain the CKR systemic approach (e.g., Clean > Repair > Coat). Copy must be benefit-driven (Education Pillar)."
      },
      "Form_Design": {
        "mandate": "Simple, low-friction forms on the 'Get a Quote' page (Name, Phone, Suburb, brief work description). Must validate inputs using Zod schema logic defined in the LeadCapture workflow."
      }
    },
    "dataAndTestingProtocols": {
      "stateManagement": {
        "serverState": "All server data (data-fetching, caching, mutation) must be managed via TanStack Query.",
        "clientState": "Use React's native hooks (useState/useContext) for local and global UI state."
      },
      "directoryStructure": "Optimized for clarity and rapid navigation. Test files must be co-located with the code they are testing (/src/components/ui/Button.tsx and /src/components/ui/Button.test.tsx).",
      "testingMandate": {
        "framework": "Vitest is the designated framework.",
        "coverageMinimum": "All business logic (in /lib, /hooks, /services) must achieve at least 90% unit test coverage.",
        "qaPartner": "The AI is the designated QA Partner, simulating a team environment to catch errors early."
      }
    },
    "systemsAndSecurity": {
      "deploymentProtocol": "Before deployment, run a security audit (`bun audit`) and maintain the strict Content Security Policy (CSP) enforced in index.html.",
      "backendConnection": "All data fetching must be handled through dedicated functions in the `/services/` directory, implementing the logic defined in the System Integration Map (KF_07).",
      "dataIntegrity": "API response structure must adhere to the standard JSON payload: `{ \"data\": { ... } }` for success, `{ \"error\": { \"message\": \"...\" } }` for failure.",
      "errorHandling": "API or rendering errors must be handled gracefully with a clear user-facing error message (User-Facing Errors, KF_06)."
    }
  }
}
